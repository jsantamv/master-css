<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Maquetacion de CSS Responsive</title>
</head>

<body>

    <div>        
        <p id="onload"></p>
        <h1 id="responsive">Responsive: </h1>
        
        <div>
            <h2 id="orientation"></h2>
        </div>

        <p id="deviceType"></p>

    </div>


    <script>       

        const resol = () => {
            const newWidth = window.innerWidth;
            const newHeight = window.innerHeight;
            const result = `Width: ${newWidth} Height: ${newHeight} `;
            const deviceType = navigator.userAgent;
            document.getElementById('deviceType').textContent = `Resolucion ${result} Navegador: ${deviceType}`
            document.getElementById('responsive').textContent = `${result}`

            const mediaQueryList = window.matchMedia("(orientation: portrait)");

            if (mediaQueryList.matches) {
                /* The viewport is currently in portrait orientation */                
                document.getElementById('orientation').textContent = `Orientation: portrait |`
                //to do portrait
            } else {
                /* The viewport is not currently in portrait orientation, therefore landscape */                
                document.getElementById('orientation').textContent = `Orientation: landscape ---`
                // to do landscape
            }
        }


        const doOnOrientationChange = () => {
            let _orn = screen.msOrientation || (screen.orientation || screen.mozOrientation || screen.webkitOrientation).type;         

            switch (_orn) {
                case 'landscape-primary':
                    landscapeScreen();
                    break;
                case 'landscape-secondary':
                    landscapeScreen();
                    break;
                case 'portrait-primary':
                    portraitScreen();
                    break;
                case 'portrait-secondary':
                    portraitScreen();
                    break;
                case undefined:
                    console.warn(doOnOrientationChange.name, 'undefined');
                    alert(`orientation type undefined`)
                    portraitScreen();
                    break;
                default:
                    portraitScreen();
                    break;
            }
        };

        //Listen to orientation change or resize
        window.addEventListener('orientationchange', doOnOrientationChange);

        window.addEventListener('DOMContentLoaded', () => {
            document.getElementById('onload').textContent = `EVENT: DOMContentLoaded event`
            resol();
        });

        window.addEventListener('resize', () => {
            document.getElementById('onload').textContent = `EVENT: resize event`
            resol();
        });


    </script>
</body>

</html>